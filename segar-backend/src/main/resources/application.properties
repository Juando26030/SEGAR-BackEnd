#---
spring.config.activate.on-profile=default
spring.application.name=backend
server.port = 8090
spring.security.user.name=admin
spring.security.user.password=admin123

#datasource
spring.jpa.database=h2
spring.datasource.driver-class-name=org.h2.Driver

#nombre de la base de datos
spring.datasource.url=jdbc:h2:file:./segardb;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.username=sa
spring.datasource.password=

#consola de administracion de h2
spring.h2.console.enabled=true

#localhost:8090/h2
spring.h2.console.path=/h2

#datos de prueba
spring.jpa.generate-ddl=true
#borrar la tabla cada vez
spring.jpa.hibernate.ddl-auto=create-drop
#mantener
#spring.jpa.hibernate.ddl-auto=update

# Desactivar Flyway - ahora usamos DatabaseInit.java
spring.flyway.enabled=false

# Desactivar inicializacion automatica con SQL scripts
spring.sql.init.mode=never

#Logging
#permite imprimir la query
logging.level.org.hibernate.SQL=DEBUG
#imprime los parametros de las querys
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
#---

# Paso 4 adiciones extras
spring.jpa.show-sql=true
spring.servlet.multipart.max-file-size=20MB
spring.servlet.multipart.max-request-size=25MB

# Configuracion SMTP Gmail para correos electronicos
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=soportecasalunaairbnb@gmail.com
spring.mail.password=jnki jrix mlsx xvpm
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.ssl.trust=smtp.gmail.com

# Configuracion IMAP Gmail para recibir correos electronicos
spring.mail.imap.host=imap.gmail.com
spring.mail.imap.port=993
spring.mail.imap.username=soportecasalunaairbnb@gmail.com
spring.mail.imap.password=jnki jrix mlsx xvpm

# Keycloak Configuration
spring.security.oauth2.resourceserver.jwt.issuer-uri=http://localhost:8080/realms/segar
spring.security.oauth2.resourceserver.jwt.jwk-set-uri=http://localhost:8080/realms/segar/protocol/openid-connect/certs
# Keycloak Configuration
keycloak.auth-server-url=http://localhost:8080
keycloak.realm=segar
keycloak.admin.client-id=segar-backend
keycloak.admin.client-secret=BZp1DSBtfnzfxVuWTQ8SxyZ3SZUY3qo6

# Keycloak Client UUID (obtenido de la consola de Keycloak)
# INSTRUCCIONES: Si este UUID no funciona, obtener el correcto desde:
# Keycloak Admin Console > Clients > segar-backend > copiar el ID de la URL
# Ejemplo URL: http://localhost:8080/admin/master/console/#/segar/clients/ESTE-ES-EL-UUID
keycloak.client.segar-backend.uuid=PENDIENTE_CONFIGURAR

# Email sync configuration - scheduled automatic synchronization
# Enable/disable automatic background sync
email.sync.scheduled.enabled=true
# Sync interval in milliseconds (300000 = 5 minutes)
email.sync.scheduled.interval=300000
# Sync emails on application startup
email.sync.on.startup=true

# Google Cloud Platform Configuration
# Desactivado por defecto - activar solo si se tiene el archivo de credenciales
spring.cloud.gcp.enabled=false
# Descomentar las siguientes lineas cuando tengas el archivo gcp-service-account.json en la raiz del proyecto
#spring.cloud.gcp.credentials.location=file:./gcp-service-account.json
#spring.cloud.gcp.project-id=segar-cloud-473618
